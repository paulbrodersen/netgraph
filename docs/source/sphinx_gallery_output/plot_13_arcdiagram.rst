
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "sphinx_gallery_output/plot_13_arcdiagram.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_sphinx_gallery_output_plot_13_arcdiagram.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_sphinx_gallery_output_plot_13_arcdiagram.py:


Arc Diagrams
============

.. GENERATED FROM PYTHON SOURCE LINES 6-18

.. code-block:: default


    import matplotlib.pyplot as plt
    import networkx as nx

    from netgraph import ArcDiagram

    n = 20
    g = nx.random_tree(n, seed=42)

    ArcDiagram(g, node_labels=True, node_size=1, node_edge_width=0.1, edge_width=0.1)
    plt.show()




.. image-sg:: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_001.png
   :alt: plot 13 arcdiagram
   :srcset: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/paul/src/netgraph/netgraph/_node_layout.py:961: UserWarning: Maximum number of iterations reached. Aborting further node layout optimisations.
      warnings.warn("Maximum number of iterations reached. Aborting further node layout optimisations.")




.. GENERATED FROM PYTHON SOURCE LINES 19-23

By default, ArcDiagram optimises the node order such that the number of edge crossings is minimised.
For larger graphs, this process can take a long time.
The node order can be set explicitly using the :code:`node_order` argument.
In this case, no optimisation is attempted.

.. GENERATED FROM PYTHON SOURCE LINES 23-27

.. code-block:: default


    ArcDiagram(g, node_order=range(n), node_labels=True, node_size=1, node_edge_width=0.1, edge_width=0.1)
    plt.show()




.. image-sg:: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_002.png
   :alt: plot 13 arcdiagram
   :srcset: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_002.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 28-30

Arc diagrams are useful to compare two networks with the same number of nodes,
for example, the connectivity in the same network before and after some changes.

.. GENERATED FROM PYTHON SOURCE LINES 30-43

.. code-block:: default


    # Swap a few edges in the original graph. As this occurs in-place, we first make a copy.
    h = g.copy()
    nx.double_edge_swap(h, nswap=3)

    # Visualise the changes in connectivity by plotting the two configurations above and below the center line.
    # Highlight edges that were removed in red; new edges are shown in blue.
    fig, ax = plt.subplots()
    edge_color = {edge : "tab:red" if edge not in h.edges() else "lightgray" for edge in g.edges()}
    ArcDiagram(g, above=False, node_order=range(n), node_size=1, node_edge_width=0.1, edge_color=edge_color, edge_width=0.5, ax=ax)
    edge_color = {edge : "tab:blue" if edge not in g.edges() else "lightgray" for edge in h.edges()}
    ArcDiagram(h, above=True,  node_order=range(n), node_size=1, node_edge_width=0.1, edge_color=edge_color, edge_width=0.5, ax=ax)
    plt.show()



.. image-sg:: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_003.png
   :alt: plot 13 arcdiagram
   :srcset: /sphinx_gallery_output/images/sphx_glr_plot_13_arcdiagram_003.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  42.428 seconds)


.. _sphx_glr_download_sphinx_gallery_output_plot_13_arcdiagram.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_13_arcdiagram.py <plot_13_arcdiagram.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_13_arcdiagram.ipynb <plot_13_arcdiagram.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
